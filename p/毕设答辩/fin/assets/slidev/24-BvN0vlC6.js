import{_ as h}from"./CodeBlockWrapper-DogcKUAc.js";import{o as k,c as n,k as t,l as r,m as o,q as d,s as p,A as a,e as i,a0 as s}from"../modules/vue-R_M4Yk7U.js";import{I as g}from"../default-pk3OXmvO.js";import{b as c,Z as e}from"../index-DCFaiZ02.js";import{p as _,u as y,f as u}from"./context-Cfs-kS3b.js";import"../modules/unplugin-icons-BD2GZZxJ.js";import"../contents-aEssWFLO.js";import"../modules/shiki-DY4Y_Q5a.js";const A=i("h1",null,"沙箱设计",-1),m=i("h2",null,"用户权限",-1),f=i("ul",null,[i("li",null,"在 Linux 中，root 用户拥有最高权限"),i("li",null,"而非 root 用户则只能进行有限的操作。"),i("li",null,"因此可以使用 nobody 用户（Linux下权限很低的匿名用户）来运行代码。即使程序绕过沙箱规则，也可以通过 Linux 权限控制来避免更大的危害。"),i("li",null,"nobody 用户的 uid 和 gid 一般为 65534，可以用 setuid/gid 实现。")],-1),B=i("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-cpp"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1."),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"	if"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"setuid"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"NOBODY_UID"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," =="),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," -"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"1"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"2."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"	    std"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"::"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"cerr "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"<<"),i("span",{style:{"--shiki-dark":"#C98A7D99","--shiki-light":"#B5695999"}},' "'),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"Failed to set NOBODY_UID."),i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\n"),i("span",{style:{"--shiki-dark":"#C98A7D99","--shiki-light":"#B5695999"}},'"'),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"3."),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"	    return"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," EXIT_FAILURE"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},";")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"4."),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"	}")])])],-1),C={__name:"24",setup(D){return _(e),y(),(E,F)=>{const l=h;return k(),n(g,d(p(a(u)(a(e),23))),{default:t(()=>[A,m,f,r(l,o({},{ranges:[]}),{default:t(()=>[B]),_:1},16)]),_:1},16)}}},P=c(C,[["__file","/@slidev/slides/24.md"]]);export{P as default};
